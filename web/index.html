<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IPFS Check</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="output.css">
    <link rel="canonical" href="https://check.ipfs.network/">
    <script src="script.js" defer></script>
    <script defer data-domain="check.ipfs.network" src="https://plausible.io/js/script.tagged-events.js"></script>
</head>
<body class="font-sans bg-gray-50 text-gray-900 m-0">
<header>
    <h1 class="inline-block px-3 py-3 m-0 leading-tight">
        <a class="no-underline block text-lg font-bold text-gray-900" href="https://ipfs.io">IPFS <span class="text-ipfs-teal-500 font-semibold">Check</span></a>
        <span class="block text-xs font-semibold text-gray-600">Have you seen my CID?</span>
    </h1>
</header>
<main>
    <section class="max-w-3xl mx-auto leading-relaxed text-gray-800 px-2 pb-8">
        <h2 class="m-0 py-0 px-2 text-xl font-bold">
            Check the retrievability of data by CID
        </h2>
        <p class="m-0 py-0 mt-2 px-2 text-lg font-normal">
            Paste in a Content ID and the multiaddr (optional) of a host to check if it is expected to be retrievable
        </p>
    </section>
    <section class="bg-white">
        <form id="queryForm" class="max-w-4xl mx-auto leading-relaxed text-gray-800 rounded-lg py-8 px-2 md:px-8">
            <label class="block mt-3 text-xs font-bold" for="cid">CID or multihash</label>
            <input class="block w-full p-2 border border-gray-300 rounded" type="text" id="cid" name="cid" required>
            <label class="block mt-3 text-xs font-bold" for="ma">Multiaddr (optional)</label>
            <input class="block w-full p-2 border border-gray-300 rounded" type="text" id="multiaddr" name="multiaddr" placeholder="/p2p/12D3Koo..." />
            <details class="mt-3">
                <summary class="text-xs font-bold">Backend Config</summary>
                <label class="block mt-3 text-xs font-bold" for="backendURL">Backend URL</label>
                <input class="block w-full p-2 border border-gray-300 rounded" type="url" id="backendURL" name="backendURL" value="https://ipfs-check-backend.ipfs.io" placeholder="https://ipfs-check-backend.ipfs.io" list="defaultBackendURLs" required>
                <datalist id="defaultBackendURLs">
                    <option value="https://ipfs-check-backend.ipfs.io">
                </datalist>
                <label class="block mt-3 text-xs font-bold" for="ipniIndexer">IPNI Indexer</label>
                <input class="block w-full p-2 border border-gray-300 rounded" type="url" id="ipniIndexer" name="ipniIndexer" value="https://cid.contact" placeholder="https://cid.contact" list="defaultIndexers" required>
                <datalist id="defaultIndexers">
                    <option value="https://cid.contact">
                </datalist>
                <div class="mt-3">
                    <label class="block text-xs font-bold" for="timeoutSeconds">Check Timeout (seconds)</label>
                    <input class="block w-full mt-2" type="range" id="timeoutSeconds" name="timeoutSeconds" min="5" max="300" value="60" step="1">
                    <output class="block font-bold text-xs" for="timeoutSeconds" id="timeoutValue">60</output>
                </div>
                <label class="inline-block mt-3 mr-3 text-xs font-bold" for="httpRetrieval">Check HTTP retrieval</label>
                <input class="inline-block p-2" type="checkbox" id="httpRetrieval" name="httpRetrieval" checked>
            </details>
            <div class="block my-6">
                <button id="submit" type="submit" class="flex items-center px-6 py-2 no-underline cursor-pointer shadow transition bg-ipfs-navy-800 hover:bg-ipfs-navy-900 text-white font-bold text-lg border-0 rounded">
                  <svg id="loading-spinner" class="hidden animate-spin mr-2 h-6 w-6 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-20" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-80" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  Run Test
                </button>
            </div>
            <div id="output" class="leading-relaxed font-medium"></div>
            <details class="mt-3">
              <summary class="text-xs font-bold">Raw Output</summary>
              <div class="bg-gray-900 text-green-200 rounded p-4 overflow-x-auto mt-2">
                <pre style="white-space:pre;" class="leading-relaxed font-medium language-json"><code id="raw-output"></code></pre>
              </div>
            </details>
        </form>
    </section>
    <section class="max-w-4xl mx-auto leading-relaxed text-gray-800 py-8 px-2 md:px-8">
        <h2 class="text-xl font-bold">Where do I find my multiaddr?</h2>
        <ul class="list-disc ml-6">
            <li class="pb-2">
                <strong>Using IPFS Desktop or IPFS WebUI</strong>
                <ul class="list-disc ml-6">
                    <li>Open the IPFS WebUI "Status" page via the IPFS Desktop menu or by visiting "http://127.0.0.1:5001/webui" (when using the default config settings)</li>
                    <li>If you want to test your peerID rather than a particular address enter <code class="bg-gray-100 px-1 rounded">/p2p/{YourPeerID}</code></li>
                    <li>If you want to test a particular address then click the "Advanced" dropdown to see the node's addresses</li>
                </ul>
            </li>
            <li class="pb-2">
                <strong>Using the kubo CLI</strong>
                <ul class="list-disc ml-6">
                    <li>If you want to test your peerID rather than a particular address run <code class="bg-gray-100 px-1 rounded">ipfs id</code> and enter <code class="bg-gray-100 px-1 rounded">/p2p/{YourPeerID}</code></li>
                    <li>If you want to test a particular address then choose an entry from the list of addresses output by <code class="bg-gray-100 px-1 rounded">ipfs id</code></li>
                </ul>
            </li>
        </ul>
        <h2 class="text-xl font-bold mt-8">What does it mean if I get an error?</h2>
        <ul class="list-disc ml-6">
            <li class="pb-2">
                <strong>Could not connect to the multiaddr</strong>. Machines on the internet cannot talk to your machine.
                Fix your firewall, add port forwarding, or use a relay.
            </li>
            <li class="pb-2">
                <strong>Could not find address in the dht</strong>. Your machine is either not connected to the IPFS Public DHT
                (even as a client), or is not advertising the address that you are testing with. As a result no one will be
                able to contact you on that address if they only learn about your peerID, as is the case for content
                advertised in the IPFS Public DHT
            </li>
            <li class="pb-2">
                <strong>Multihash not advertised in the dht</strong>. Your machine has not advertised that it has the given content in the
                IPFS Public DHT. This means that other machines will have to discover that you have the content in some other
                way (e.g. pre-connecting to you optimistically, pre-connecting to you since related content is already
                advertised by you, some rendezvous service, being on the same LAN, etc.). If using kubo consider enabling the
                <a class="text-blue-600 underline" href="https://github.com/ipfs/kubo/blob/master/docs/experimental-features.md#accelerated-dht-client">Accelerated DHT Client</a>,
				which will advertise content faster and in particular should enable you to continue to republish your advertisements every 24hrs as
				required by the network.
            </li>
            <li class="pb-2">
                <strong>Peer has not responded that it has the CID</strong>. Your node does not think it has the data you think it does,
                or it took too long to respond. Until this is resolved other machines will be unable to download that
                content from you.
            </li>
        </ul>
    </section>
</main>
<footer class="text-center py-3">
    <a class="text-blue-600 underline" href="https://github.com/ipfs/ipfs-check">Github</a>
</footer>
<style>
      .animate-spin { animation: spin 2s linear infinite }

      @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }
    button:disabled {
        opacity: 50% !important;
    }
</style>
</body>
</html>
